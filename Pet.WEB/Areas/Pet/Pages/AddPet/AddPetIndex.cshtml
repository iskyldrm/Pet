@page
@model Pet.WEB.Areas.Pet.Pages.AddPet.AddPetIndexModel


<div class="container mt-2 mb-2 p-3">
    <form id="addPetForm" method="post">
        <div class="row ">

            <div class="col-5">
                <div class="form-outline w-75 mb-2">
                    <input asp-for="Input.LivingName" class="form-control form-control-lg" id="form3Example3" placeholder="Petinizin adını giriniz" />
                    <span asp-validation-for="Input.LivingName" class="text-danger"></span>
                </div>
                <div class="form-outline w-75 mb-2">
                    <select asp-for="Input.KindId" class="form-control form-control-lg" asp-items="Model.Kinds">
                        <option value="" selected disabled hidden>Tür seçiniz</option>
                    </select>
                    <span asp-validation-for="Input.KindId" class="text-light"></span>
                </div>
                <div class="form-outline w-75 mb-2">
                    <select asp-for="Input.LivingGender" class="form-control form-control-lg">
                        <option value="" selected disabled hidden>Cinsiyet Seçiniz</option>
                        <option value="true">Dişi</option>
                        <option value="false">Erkek</option>
                    </select>
                    <span asp-validation-for="Input.LivingGender" class="text-danger"></span>
                </div>
                <div class="form-outline w-75 mb-2">
                    <select asp-for="Input.GenusId" class="form-control form-control-lg" asp-items="Model.Genuses">
                        <option value="" selected disabled hidden>Cins seçiniz</option>
                    </select>
                    <span asp-validation-for="Input.GenusId" class="text-light"></span>
                </div>
                <div class="form-outline w-75 mb-2">
                    <input asp-for="Input.LivingAge" class="form-control form-control-lg" id="form3Example3" placeholder="Petinizin yaşını giriniz" />

                </div>
            </div>
            <div class="col-4">
                <div class="form-label w-100 mb-2">
                    @*<input type="file" accept="image/*" asp-for="Input.LivingAge" class="form-control form-control-lg " id="form3Example3" />*@
                    @await Component.InvokeAsync("Image")

                </div>
            </div>
            <div class="col-3">
                
                <div class="col-md-4 px-6">
                    <input id="Submit" type="submit" class="w-100 btn btn-lg btn-success" value="Pet Ekle">
                </div>
            </div>
        </div>
    </form>

</div>
@section Scripts
    {

    <script type="text/javascript">
        $("#Input_KindId").change(function() {
            var id = $("#Input_KindId option:selected").text();
            var url = 'https://localhost:7239/api/AddPetForKind/GetPetWithName?input=' + id

            console.log(url);
            $.get(url, function(data, status) {
                console.log(data);
                $('#Input_GenusId').empty();
                for (var i = 0; i < data.length; i++) {
                    $('#Input_GenusId').append("<option value='" + data[i].id + "'>" + data[i].genusName + "</Option>");
                }
            });
        });
    </script>
}